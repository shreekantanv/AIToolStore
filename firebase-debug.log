[debug] [2025-08-12T17:37:07.626Z] ----------------------------------------------------------------------
[debug] [2025-08-12T17:37:07.637Z] Command:       /Users/shreekantanv/.nvm/versions/node/v20.19.0/bin/node /Users/shreekantanv/.nvm/versions/node/v20.19.0/bin/firebase deploy --only functions
[debug] [2025-08-12T17:37:07.638Z] CLI Version:   14.12.0
[debug] [2025-08-12T17:37:07.638Z] Platform:      darwin
[debug] [2025-08-12T17:37:07.638Z] Node Version:  v20.19.0
[debug] [2025-08-12T17:37:07.638Z] Time:          Tue Aug 12 2025 13:37:07 GMT-0400 (Eastern Daylight Time)
[debug] [2025-08-12T17:37:07.639Z] ----------------------------------------------------------------------
[debug] 
[debug] [2025-08-12T17:37:07.857Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform"]
[debug] [2025-08-12T17:37:07.858Z] > authorizing via signed-in user (nvs307@gmail.com)
[debug] [2025-08-12T17:37:07.858Z] [iam] checking project snapsolveai-b74fc for permissions ["cloudfunctions.functions.create","cloudfunctions.functions.delete","cloudfunctions.functions.get","cloudfunctions.functions.list","cloudfunctions.functions.update","cloudfunctions.operations.get","firebase.projects.get"]
[debug] [2025-08-12T17:37:07.859Z] Checked if tokens are valid: true, expires at: 1755023367185
[debug] [2025-08-12T17:37:07.860Z] Checked if tokens are valid: true, expires at: 1755023367185
[debug] [2025-08-12T17:37:07.861Z] >>> [apiv2][query] POST https://cloudresourcemanager.googleapis.com/v1/projects/snapsolveai-b74fc:testIamPermissions [none]
[debug] [2025-08-12T17:37:07.861Z] >>> [apiv2][(partial)header] POST https://cloudresourcemanager.googleapis.com/v1/projects/snapsolveai-b74fc:testIamPermissions x-goog-quota-user=projects/snapsolveai-b74fc
[debug] [2025-08-12T17:37:07.861Z] >>> [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/snapsolveai-b74fc:testIamPermissions {"permissions":["cloudfunctions.functions.create","cloudfunctions.functions.delete","cloudfunctions.functions.get","cloudfunctions.functions.list","cloudfunctions.functions.update","cloudfunctions.operations.get","firebase.projects.get"]}
[debug] [2025-08-12T17:37:08.084Z] <<< [apiv2][status] POST https://cloudresourcemanager.googleapis.com/v1/projects/snapsolveai-b74fc:testIamPermissions 200
[debug] [2025-08-12T17:37:08.084Z] <<< [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/snapsolveai-b74fc:testIamPermissions {"permissions":["cloudfunctions.functions.create","cloudfunctions.functions.delete","cloudfunctions.functions.get","cloudfunctions.functions.list","cloudfunctions.functions.update","cloudfunctions.operations.get","firebase.projects.get"]}
[debug] [2025-08-12T17:37:08.084Z] Checked if tokens are valid: true, expires at: 1755023367185
[debug] [2025-08-12T17:37:08.084Z] Checked if tokens are valid: true, expires at: 1755023367185
[debug] [2025-08-12T17:37:08.084Z] >>> [apiv2][query] POST https://iam.googleapis.com/v1/projects/snapsolveai-b74fc/serviceAccounts/snapsolveai-b74fc@appspot.gserviceaccount.com:testIamPermissions [none]
[debug] [2025-08-12T17:37:08.084Z] >>> [apiv2][body] POST https://iam.googleapis.com/v1/projects/snapsolveai-b74fc/serviceAccounts/snapsolveai-b74fc@appspot.gserviceaccount.com:testIamPermissions {"permissions":["iam.serviceAccounts.actAs"]}
[debug] [2025-08-12T17:37:08.192Z] <<< [apiv2][status] POST https://iam.googleapis.com/v1/projects/snapsolveai-b74fc/serviceAccounts/snapsolveai-b74fc@appspot.gserviceaccount.com:testIamPermissions 200
[debug] [2025-08-12T17:37:08.192Z] <<< [apiv2][body] POST https://iam.googleapis.com/v1/projects/snapsolveai-b74fc/serviceAccounts/snapsolveai-b74fc@appspot.gserviceaccount.com:testIamPermissions {"permissions":["iam.serviceAccounts.actAs"]}
[info] 
[info] === Deploying to 'snapsolveai-b74fc'...
[info] 
[info] i  deploying functions 
[debug] [2025-08-12T17:37:08.195Z] Checked if tokens are valid: true, expires at: 1755023367185
[debug] [2025-08-12T17:37:08.195Z] Checked if tokens are valid: true, expires at: 1755023367185
[debug] [2025-08-12T17:37:08.195Z] >>> [apiv2][query] GET https://cloudresourcemanager.googleapis.com/v1/projects/snapsolveai-b74fc [none]
[debug] [2025-08-12T17:37:08.309Z] <<< [apiv2][status] GET https://cloudresourcemanager.googleapis.com/v1/projects/snapsolveai-b74fc 200
[debug] [2025-08-12T17:37:08.309Z] <<< [apiv2][body] GET https://cloudresourcemanager.googleapis.com/v1/projects/snapsolveai-b74fc {"projectNumber":"983351827742","projectId":"snapsolveai-b74fc","lifecycleState":"ACTIVE","name":"SnapSolveAI","labels":{"firebase":"enabled","firebase-core":"disabled"},"createTime":"2025-08-06T18:04:43.562704Z"}
[info] i  functions: preparing codebase default for deployment 
[info] i  functions: ensuring required API cloudfunctions.googleapis.com is enabled... 
[info] i  functions: ensuring required API cloudbuild.googleapis.com is enabled... 
[info] i  artifactregistry: ensuring required API artifactregistry.googleapis.com is enabled... 
[debug] [2025-08-12T17:37:08.312Z] Checked if tokens are valid: true, expires at: 1755023367185
[debug] [2025-08-12T17:37:08.312Z] Checked if tokens are valid: true, expires at: 1755023367185
[debug] [2025-08-12T17:37:08.312Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/snapsolveai-b74fc/adminSdkConfig [none]
[debug] [2025-08-12T17:37:08.616Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/snapsolveai-b74fc/adminSdkConfig 200
[debug] [2025-08-12T17:37:08.616Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/snapsolveai-b74fc/adminSdkConfig {"projectId":"snapsolveai-b74fc","storageBucket":"snapsolveai-b74fc.firebasestorage.app"}
[debug] [2025-08-12T17:37:08.617Z] Checked if tokens are valid: true, expires at: 1755023367185
[debug] [2025-08-12T17:37:08.617Z] Checked if tokens are valid: true, expires at: 1755023367185
[debug] [2025-08-12T17:37:08.617Z] >>> [apiv2][query] GET https://runtimeconfig.googleapis.com/v1beta1/projects/snapsolveai-b74fc/configs [none]
[debug] [2025-08-12T17:37:08.776Z] <<< [apiv2][status] GET https://runtimeconfig.googleapis.com/v1beta1/projects/snapsolveai-b74fc/configs 200
[debug] [2025-08-12T17:37:08.776Z] <<< [apiv2][body] GET https://runtimeconfig.googleapis.com/v1beta1/projects/snapsolveai-b74fc/configs {}
[debug] [2025-08-12T17:37:08.778Z] Validating nodejs source
[debug] [2025-08-12T17:37:09.701Z] > [functions] package.json contents: {
  "name": "ai-tool-store-functions",
  "version": "1.0.0",
  "description": "Cloud Functions for AI Tool Store",
  "main": "index.js",
  "engines": {
    "node": "20"
  },
  "scripts": {
    "start": "node index.js",
    "deploy": "firebase deploy --only functions"
  },
  "dependencies": {
    "dotenv": "^16.0.3",
    "express": "^4.18.2",
    "firebase-admin": "^12.0.0",
    "firebase-functions": "^5.0.0",
    "grok-js": "^3.3.1"
  },
  "private": true
}
[debug] [2025-08-12T17:37:09.701Z] Building nodejs source
[info] i  functions: Loading and analyzing source code for codebase default to determine what to deploy 
[debug] [2025-08-12T17:37:09.702Z] Could not find functions.yaml. Must use http discovery
[debug] [2025-08-12T17:37:09.712Z] Found firebase-functions binary at '/Users/shreekantanv/StudioProjects/AIToolStore/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8252

[debug] [2025-08-12T17:37:10.402Z] Got response from /__/functions.yaml {"endpoints":{"api":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] i  extensions: ensuring required API firebaseextensions.googleapis.com is enabled... 
[debug] [2025-08-12T17:37:14.438Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform"]
[debug] [2025-08-12T17:37:14.439Z] > authorizing via signed-in user (nvs307@gmail.com)
[debug] [2025-08-12T17:37:14.439Z] [iam] checking project snapsolveai-b74fc for permissions ["firebase.projects.get","firebaseextensions.instances.list"]
[debug] [2025-08-12T17:37:14.439Z] Checked if tokens are valid: true, expires at: 1755023367185
[debug] [2025-08-12T17:37:14.439Z] Checked if tokens are valid: true, expires at: 1755023367185
[debug] [2025-08-12T17:37:14.439Z] >>> [apiv2][query] POST https://cloudresourcemanager.googleapis.com/v1/projects/snapsolveai-b74fc:testIamPermissions [none]
[debug] [2025-08-12T17:37:14.439Z] >>> [apiv2][(partial)header] POST https://cloudresourcemanager.googleapis.com/v1/projects/snapsolveai-b74fc:testIamPermissions x-goog-quota-user=projects/snapsolveai-b74fc
[debug] [2025-08-12T17:37:14.439Z] >>> [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/snapsolveai-b74fc:testIamPermissions {"permissions":["firebase.projects.get","firebaseextensions.instances.list"]}
[debug] [2025-08-12T17:37:14.619Z] <<< [apiv2][status] POST https://cloudresourcemanager.googleapis.com/v1/projects/snapsolveai-b74fc:testIamPermissions 200
[debug] [2025-08-12T17:37:14.619Z] <<< [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/snapsolveai-b74fc:testIamPermissions {"permissions":["firebase.projects.get","firebaseextensions.instances.list"]}
[debug] [2025-08-12T17:37:14.619Z] Checked if tokens are valid: true, expires at: 1755023367185
[debug] [2025-08-12T17:37:14.619Z] Checked if tokens are valid: true, expires at: 1755023367185
[debug] [2025-08-12T17:37:14.620Z] >>> [apiv2][query] GET https://firebaseextensions.googleapis.com/v1beta/projects/snapsolveai-b74fc/instances pageSize=100&pageToken=
[debug] [2025-08-12T17:37:14.901Z] <<< [apiv2][status] GET https://firebaseextensions.googleapis.com/v1beta/projects/snapsolveai-b74fc/instances 200
[debug] [2025-08-12T17:37:14.901Z] <<< [apiv2][body] GET https://firebaseextensions.googleapis.com/v1beta/projects/snapsolveai-b74fc/instances {}
[info] i  functions: preparing functions directory for uploading... 
[info] i  functions: packaged /Users/shreekantanv/StudioProjects/AIToolStore/functions (71.57 KB) for uploading 
[debug] [2025-08-12T17:37:14.942Z] Checked if tokens are valid: true, expires at: 1755023367185
[debug] [2025-08-12T17:37:14.942Z] Checked if tokens are valid: true, expires at: 1755023367185
[debug] [2025-08-12T17:37:14.942Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/projects/snapsolveai-b74fc/locations/-/functions [none]
[debug] [2025-08-12T17:37:15.612Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/projects/snapsolveai-b74fc/locations/-/functions 200
[debug] [2025-08-12T17:37:15.612Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/projects/snapsolveai-b74fc/locations/-/functions {}
[debug] [2025-08-12T17:37:15.613Z] Checked if tokens are valid: true, expires at: 1755023367185
[debug] [2025-08-12T17:37:15.613Z] Checked if tokens are valid: true, expires at: 1755023367185
[debug] [2025-08-12T17:37:15.614Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/snapsolveai-b74fc/locations/-/functions filter=environment%3D%22GEN_2%22
[debug] [2025-08-12T17:37:16.038Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/snapsolveai-b74fc/locations/-/functions 200
[debug] [2025-08-12T17:37:16.038Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/snapsolveai-b74fc/locations/-/functions {"functions":[{"name":"projects/snapsolveai-b74fc/locations/us-central1/functions/api","buildConfig":{"build":"projects/983351827742/locations/us-central1/builds/46fffc2c-da12-4a0a-a22e-fa80aac5429f","runtime":"nodejs20","entryPoint":"api","source":{"storageSource":{"bucket":"gcf-v2-sources-983351827742-us-central1","object":"api/function-source.zip","generation":"1755020000884724"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/snapsolveai-b74fc/locations/us-central1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-983351827742-us-central1","object":"api/function-source.zip","generation":"1755020000884724"}},"dockerRegistry":"ARTIFACT_REGISTRY","serviceAccount":"projects/snapsolveai-b74fc/serviceAccounts/983351827742-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"state":"FAILED","updateTime":"2025-08-12T17:34:15.348356082Z","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"5f22b35571276406ca3c48c2f360ecd6bb1fd16c"},"stateMessages":[{"severity":"ERROR","type":"CloudRunServiceNotFound","message":"Cloud Run service projects/snapsolveai-b74fc/locations/us-central1/services/api for the function was not found. The function will not work correctly. Please redeploy."}],"environment":"GEN_2","url":"https://us-central1-snapsolveai-b74fc.cloudfunctions.net/api","createTime":"2025-08-12T17:33:21.236373327Z","satisfiesPzi":true}]}
[info] i  functions: ensuring required API run.googleapis.com is enabled... 
[info] i  functions: ensuring required API eventarc.googleapis.com is enabled... 
[info] i  functions: ensuring required API pubsub.googleapis.com is enabled... 
[info] i  functions: ensuring required API storage.googleapis.com is enabled... 
[info] i  functions: generating the service identity for pubsub.googleapis.com... 
[debug] [2025-08-12T17:37:16.043Z] Checked if tokens are valid: true, expires at: 1755023367185
[debug] [2025-08-12T17:37:16.043Z] Checked if tokens are valid: true, expires at: 1755023367185
[info] i  functions: generating the service identity for eventarc.googleapis.com... 
[debug] [2025-08-12T17:37:16.043Z] Checked if tokens are valid: true, expires at: 1755023367185
[debug] [2025-08-12T17:37:16.043Z] Checked if tokens are valid: true, expires at: 1755023367185
[debug] [2025-08-12T17:37:16.043Z] >>> [apiv2][query] POST https://serviceusage.googleapis.com/v1beta1/projects/983351827742/services/pubsub.googleapis.com:generateServiceIdentity [none]
[debug] [2025-08-12T17:37:16.043Z] >>> [apiv2][(partial)header] POST https://serviceusage.googleapis.com/v1beta1/projects/983351827742/services/pubsub.googleapis.com:generateServiceIdentity x-goog-quota-user=projects/983351827742
[debug] [2025-08-12T17:37:16.043Z] >>> [apiv2][body] POST https://serviceusage.googleapis.com/v1beta1/projects/983351827742/services/pubsub.googleapis.com:generateServiceIdentity {}
[debug] [2025-08-12T17:37:16.045Z] >>> [apiv2][query] POST https://serviceusage.googleapis.com/v1beta1/projects/983351827742/services/eventarc.googleapis.com:generateServiceIdentity [none]
[debug] [2025-08-12T17:37:16.045Z] >>> [apiv2][(partial)header] POST https://serviceusage.googleapis.com/v1beta1/projects/983351827742/services/eventarc.googleapis.com:generateServiceIdentity x-goog-quota-user=projects/983351827742
[debug] [2025-08-12T17:37:16.045Z] >>> [apiv2][body] POST https://serviceusage.googleapis.com/v1beta1/projects/983351827742/services/eventarc.googleapis.com:generateServiceIdentity {}
[debug] [2025-08-12T17:37:16.431Z] <<< [apiv2][status] POST https://serviceusage.googleapis.com/v1beta1/projects/983351827742/services/eventarc.googleapis.com:generateServiceIdentity 200
[debug] [2025-08-12T17:37:16.431Z] <<< [apiv2][body] POST https://serviceusage.googleapis.com/v1beta1/projects/983351827742/services/eventarc.googleapis.com:generateServiceIdentity {"name":"operations/finished.DONE_OPERATION","done":true,"response":{"@type":"type.googleapis.com/google.api.serviceusage.v1beta1.ServiceIdentity","email":"service-983351827742@gcp-sa-eventarc.iam.gserviceaccount.com","uniqueId":"111005067982661996520"}}
[debug] [2025-08-12T17:37:16.445Z] <<< [apiv2][status] POST https://serviceusage.googleapis.com/v1beta1/projects/983351827742/services/pubsub.googleapis.com:generateServiceIdentity 200
[debug] [2025-08-12T17:37:16.445Z] <<< [apiv2][body] POST https://serviceusage.googleapis.com/v1beta1/projects/983351827742/services/pubsub.googleapis.com:generateServiceIdentity {"name":"operations/finished.DONE_OPERATION","done":true,"response":{"@type":"type.googleapis.com/google.api.serviceusage.v1beta1.ServiceIdentity","email":"service-983351827742@gcp-sa-pubsub.iam.gserviceaccount.com","uniqueId":"115040922676341107702"}}
[debug] [2025-08-12T17:37:16.447Z] Checked if tokens are valid: true, expires at: 1755023367185
[debug] [2025-08-12T17:37:16.447Z] Checked if tokens are valid: true, expires at: 1755023367185
[debug] [2025-08-12T17:37:16.447Z] >>> [apiv2][query] GET https://cloudresourcemanager.googleapis.com/v1/projects/snapsolveai-b74fc [none]
[debug] [2025-08-12T17:37:16.556Z] <<< [apiv2][status] GET https://cloudresourcemanager.googleapis.com/v1/projects/snapsolveai-b74fc 200
[debug] [2025-08-12T17:37:16.557Z] <<< [apiv2][body] GET https://cloudresourcemanager.googleapis.com/v1/projects/snapsolveai-b74fc {"projectNumber":"983351827742","projectId":"snapsolveai-b74fc","lifecycleState":"ACTIVE","name":"SnapSolveAI","labels":{"firebase":"enabled","firebase-core":"disabled"},"createTime":"2025-08-06T18:04:43.562704Z"}
[debug] [2025-08-12T17:37:16.557Z] Checked if tokens are valid: true, expires at: 1755023367185
[debug] [2025-08-12T17:37:16.557Z] Checked if tokens are valid: true, expires at: 1755023367185
[debug] [2025-08-12T17:37:16.557Z] >>> [apiv2][query] GET https://compute.googleapis.com/compute/v1/projects/983351827742 [none]
[debug] [2025-08-12T17:37:16.652Z] <<< [apiv2][status] GET https://compute.googleapis.com/compute/v1/projects/983351827742 403
[debug] [2025-08-12T17:37:16.652Z] <<< [apiv2][body] GET https://compute.googleapis.com/compute/v1/projects/983351827742 {"error":{"code":403,"message":"Compute Engine API has not been used in project 983351827742 before or it is disabled. Enable it by visiting https://console.developers.google.com/apis/api/compute.googleapis.com/overview?project=983351827742 then retry. If you enabled this API recently, wait a few minutes for the action to propagate to our systems and retry.","errors":[{"message":"Compute Engine API has not been used in project 983351827742 before or it is disabled. Enable it by visiting https://console.developers.google.com/apis/api/compute.googleapis.com/overview?project=983351827742 then retry. If you enabled this API recently, wait a few minutes for the action to propagate to our systems and retry.","domain":"usageLimits","reason":"accessNotConfigured","extendedHelp":"https://console.developers.google.com"}],"status":"PERMISSION_DENIED","details":[{"@type":"type.googleapis.com/google.rpc.ErrorInfo","reason":"SERVICE_DISABLED","domain":"googleapis.com","metadata":{"service":"compute.googleapis.com","serviceTitle":"Compute Engine API","consumer":"projects/983351827742","containerInfo":"983351827742","activationUrl":"https://console.developers.google.com/apis/api/compute.googleapis.com/overview?project=983351827742"}},{"@type":"type.googleapis.com/google.rpc.LocalizedMessage","locale":"en-US","message":"Compute Engine API has not been used in project 983351827742 before or it is disabled. Enable it by visiting https://console.developers.google.com/apis/api/compute.googleapis.com/overview?project=983351827742 then retry. If you enabled this API recently, wait a few minutes for the action to propagate to our systems and retry."},{"@type":"type.googleapis.com/google.rpc.Help","links":[{"description":"Google developers console API activation","url":"https://console.developers.google.com/apis/api/compute.googleapis.com/overview?project=983351827742"}]}]}}
[debug] [2025-08-12T17:37:16.652Z] unable to look up default compute service account. Falling back to 983351827742-compute@developer.gserviceaccount.com. Error: {"name":"FirebaseError","children":[],"context":{"body":{"error":{"code":403,"message":"Compute Engine API has not been used in project 983351827742 before or it is disabled. Enable it by visiting https://console.developers.google.com/apis/api/compute.googleapis.com/overview?project=983351827742 then retry. If you enabled this API recently, wait a few minutes for the action to propagate to our systems and retry.","errors":[{"message":"Compute Engine API has not been used in project 983351827742 before or it is disabled. Enable it by visiting https://console.developers.google.com/apis/api/compute.googleapis.com/overview?project=983351827742 then retry. If you enabled this API recently, wait a few minutes for the action to propagate to our systems and retry.","domain":"usageLimits","reason":"accessNotConfigured","extendedHelp":"https://console.developers.google.com"}],"status":"PERMISSION_DENIED","details":[{"@type":"type.googleapis.com/google.rpc.ErrorInfo","reason":"SERVICE_DISABLED","domain":"googleapis.com","metadata":{"service":"compute.googleapis.com","serviceTitle":"Compute Engine API","consumer":"projects/983351827742","containerInfo":"983351827742","activationUrl":"https://console.developers.google.com/apis/api/compute.googleapis.com/overview?project=983351827742"}},{"@type":"type.googleapis.com/google.rpc.LocalizedMessage","locale":"en-US","message":"Compute Engine API has not been used in project 983351827742 before or it is disabled. Enable it by visiting https://console.developers.google.com/apis/api/compute.googleapis.com/overview?project=983351827742 then retry. If you enabled this API recently, wait a few minutes for the action to propagate to our systems and retry."},{"@type":"type.googleapis.com/google.rpc.Help","links":[{"description":"Google developers console API activation","url":"https://console.developers.google.com/apis/api/compute.googleapis.com/overview?project=983351827742"}]}]}},"response":{"statusCode":403}},"exit":1,"message":"Request to https://compute.googleapis.com/compute/v1/projects/983351827742 had HTTP Error: 403, Compute Engine API has not been used in project 983351827742 before or it is disabled. Enable it by visiting https://console.developers.google.com/apis/api/compute.googleapis.com/overview?project=983351827742 then retry. If you enabled this API recently, wait a few minutes for the action to propagate to our systems and retry.","status":403}
[debug] [2025-08-12T17:37:16.653Z] Checked if tokens are valid: true, expires at: 1755023367185
[debug] [2025-08-12T17:37:16.653Z] Checked if tokens are valid: true, expires at: 1755023367185
[debug] [2025-08-12T17:37:16.653Z] >>> [apiv2][query] GET https://compute.googleapis.com/compute/v1/projects/983351827742 [none]
[debug] [2025-08-12T17:37:16.735Z] <<< [apiv2][status] GET https://compute.googleapis.com/compute/v1/projects/983351827742 403
[debug] [2025-08-12T17:37:16.735Z] <<< [apiv2][body] GET https://compute.googleapis.com/compute/v1/projects/983351827742 {"error":{"code":403,"message":"Compute Engine API has not been used in project 983351827742 before or it is disabled. Enable it by visiting https://console.developers.google.com/apis/api/compute.googleapis.com/overview?project=983351827742 then retry. If you enabled this API recently, wait a few minutes for the action to propagate to our systems and retry.","errors":[{"message":"Compute Engine API has not been used in project 983351827742 before or it is disabled. Enable it by visiting https://console.developers.google.com/apis/api/compute.googleapis.com/overview?project=983351827742 then retry. If you enabled this API recently, wait a few minutes for the action to propagate to our systems and retry.","domain":"usageLimits","reason":"accessNotConfigured","extendedHelp":"https://console.developers.google.com"}],"status":"PERMISSION_DENIED","details":[{"@type":"type.googleapis.com/google.rpc.ErrorInfo","reason":"SERVICE_DISABLED","domain":"googleapis.com","metadata":{"serviceTitle":"Compute Engine API","containerInfo":"983351827742","activationUrl":"https://console.developers.google.com/apis/api/compute.googleapis.com/overview?project=983351827742","consumer":"projects/983351827742","service":"compute.googleapis.com"}},{"@type":"type.googleapis.com/google.rpc.LocalizedMessage","locale":"en-US","message":"Compute Engine API has not been used in project 983351827742 before or it is disabled. Enable it by visiting https://console.developers.google.com/apis/api/compute.googleapis.com/overview?project=983351827742 then retry. If you enabled this API recently, wait a few minutes for the action to propagate to our systems and retry."},{"@type":"type.googleapis.com/google.rpc.Help","links":[{"description":"Google developers console API activation","url":"https://console.developers.google.com/apis/api/compute.googleapis.com/overview?project=983351827742"}]}]}}
[debug] [2025-08-12T17:37:16.735Z] unable to look up default compute service account. Falling back to 983351827742-compute@developer.gserviceaccount.com. Error: {"name":"FirebaseError","children":[],"context":{"body":{"error":{"code":403,"message":"Compute Engine API has not been used in project 983351827742 before or it is disabled. Enable it by visiting https://console.developers.google.com/apis/api/compute.googleapis.com/overview?project=983351827742 then retry. If you enabled this API recently, wait a few minutes for the action to propagate to our systems and retry.","errors":[{"message":"Compute Engine API has not been used in project 983351827742 before or it is disabled. Enable it by visiting https://console.developers.google.com/apis/api/compute.googleapis.com/overview?project=983351827742 then retry. If you enabled this API recently, wait a few minutes for the action to propagate to our systems and retry.","domain":"usageLimits","reason":"accessNotConfigured","extendedHelp":"https://console.developers.google.com"}],"status":"PERMISSION_DENIED","details":[{"@type":"type.googleapis.com/google.rpc.ErrorInfo","reason":"SERVICE_DISABLED","domain":"googleapis.com","metadata":{"serviceTitle":"Compute Engine API","containerInfo":"983351827742","activationUrl":"https://console.developers.google.com/apis/api/compute.googleapis.com/overview?project=983351827742","consumer":"projects/983351827742","service":"compute.googleapis.com"}},{"@type":"type.googleapis.com/google.rpc.LocalizedMessage","locale":"en-US","message":"Compute Engine API has not been used in project 983351827742 before or it is disabled. Enable it by visiting https://console.developers.google.com/apis/api/compute.googleapis.com/overview?project=983351827742 then retry. If you enabled this API recently, wait a few minutes for the action to propagate to our systems and retry."},{"@type":"type.googleapis.com/google.rpc.Help","links":[{"description":"Google developers console API activation","url":"https://console.developers.google.com/apis/api/compute.googleapis.com/overview?project=983351827742"}]}]}},"response":{"statusCode":403}},"exit":1,"message":"Request to https://compute.googleapis.com/compute/v1/projects/983351827742 had HTTP Error: 403, Compute Engine API has not been used in project 983351827742 before or it is disabled. Enable it by visiting https://console.developers.google.com/apis/api/compute.googleapis.com/overview?project=983351827742 then retry. If you enabled this API recently, wait a few minutes for the action to propagate to our systems and retry.","status":403}
[debug] [2025-08-12T17:37:16.736Z] Checked if tokens are valid: true, expires at: 1755023367185
[debug] [2025-08-12T17:37:16.736Z] Checked if tokens are valid: true, expires at: 1755023367185
[debug] [2025-08-12T17:37:16.737Z] >>> [apiv2][query] GET https://cloudbilling.googleapis.com/v1/projects/snapsolveai-b74fc/billingInfo [none]
[debug] [2025-08-12T17:37:16.946Z] <<< [apiv2][status] GET https://cloudbilling.googleapis.com/v1/projects/snapsolveai-b74fc/billingInfo 200
[debug] [2025-08-12T17:37:16.946Z] <<< [apiv2][body] GET https://cloudbilling.googleapis.com/v1/projects/snapsolveai-b74fc/billingInfo {"name":"projects/snapsolveai-b74fc/billingInfo","projectId":"snapsolveai-b74fc","billingAccountName":"billingAccounts/01106B-2602F3-89890E","billingEnabled":true}
[debug] [2025-08-12T17:37:16.947Z] Checked if tokens are valid: true, expires at: 1755023367185
[debug] [2025-08-12T17:37:16.947Z] Checked if tokens are valid: true, expires at: 1755023367185
[debug] [2025-08-12T17:37:16.947Z] >>> [apiv2][query] POST https://cloudfunctions.googleapis.com/v2/projects/snapsolveai-b74fc/locations/us-central1/functions:generateUploadUrl [none]
[debug] [2025-08-12T17:37:17.250Z] <<< [apiv2][status] POST https://cloudfunctions.googleapis.com/v2/projects/snapsolveai-b74fc/locations/us-central1/functions:generateUploadUrl 200
[debug] [2025-08-12T17:37:17.250Z] <<< [apiv2][body] POST https://cloudfunctions.googleapis.com/v2/projects/snapsolveai-b74fc/locations/us-central1/functions:generateUploadUrl {"uploadUrl":"https://storage.googleapis.com/gcf-v2-uploads-983351827742.us-central1.cloudfunctions.appspot.com/c3edc601-d2fd-402d-b38d-12bd1953d13e.zip?GoogleAccessId=service-983351827742@gcf-admin-robot.iam.gserviceaccount.com&Expires=1755022037&Signature=eRViuIx2F2UOfvQgeLUHx9y6MwjNTX%2BIWUaS1aa%2BpQ%2BUwAfoey8BXzNAe3tRUFUgtpiaH2K02lvST%2BHYP58vFykuqmwLOpYGsvIm7fiH6XVwJySAgbNsMjWzg4DmyRSW9VIBQKXLCpp9Ts8Qgh0%2BJEQbpYbJZYbrE3J3iQWXsizFMtjdmSioL8SBhcpNQgTipp3GLSdgqgWQ5kXtwaNzcx%2B62YKpo6gkd2g4Sxbz6wGkxUXbgSGGhMcDhGayCasP6eisg9RjKU7lpUJFa%2BWklU9hdOCNdzfw5kDINEMZmN7pDkM%2BPIUGb1BwPyJ9iPDU6%2F%2F0NO5lKV3tA2Lee124%2Fg%3D%3D","storageSource":{"bucket":"gcf-v2-uploads-983351827742.us-central1.cloudfunctions.appspot.com","object":"c3edc601-d2fd-402d-b38d-12bd1953d13e.zip"}}
[debug] [2025-08-12T17:37:17.251Z] >>> [apiv2][query] PUT https://storage.googleapis.com/gcf-v2-uploads-983351827742.us-central1.cloudfunctions.appspot.com/c3edc601-d2fd-402d-b38d-12bd1953d13e.zip GoogleAccessId=service-983351827742%40gcf-admin-robot.iam.gserviceaccount.com&Expires=1755022037&Signature=eRViuIx2F2UOfvQgeLUHx9y6MwjNTX%2BIWUaS1aa%2BpQ%2BUwAfoey8BXzNAe3tRUFUgtpiaH2K02lvST%2BHYP58vFykuqmwLOpYGsvIm7fiH6XVwJySAgbNsMjWzg4DmyRSW9VIBQKXLCpp9Ts8Qgh0%2BJEQbpYbJZYbrE3J3iQWXsizFMtjdmSioL8SBhcpNQgTipp3GLSdgqgWQ5kXtwaNzcx%2B62YKpo6gkd2g4Sxbz6wGkxUXbgSGGhMcDhGayCasP6eisg9RjKU7lpUJFa%2BWklU9hdOCNdzfw5kDINEMZmN7pDkM%2BPIUGb1BwPyJ9iPDU6%2F%2F0NO5lKV3tA2Lee124%2Fg%3D%3D
[debug] [2025-08-12T17:37:17.251Z] >>> [apiv2][body] PUT https://storage.googleapis.com/gcf-v2-uploads-983351827742.us-central1.cloudfunctions.appspot.com/c3edc601-d2fd-402d-b38d-12bd1953d13e.zip [stream]
[debug] [2025-08-12T17:37:17.504Z] <<< [apiv2][status] PUT https://storage.googleapis.com/gcf-v2-uploads-983351827742.us-central1.cloudfunctions.appspot.com/c3edc601-d2fd-402d-b38d-12bd1953d13e.zip 200
[debug] [2025-08-12T17:37:17.504Z] <<< [apiv2][body] PUT https://storage.googleapis.com/gcf-v2-uploads-983351827742.us-central1.cloudfunctions.appspot.com/c3edc601-d2fd-402d-b38d-12bd1953d13e.zip [omitted]
[info] ✔  functions: functions folder uploaded successfully 
[info] i  functions: updating Node.js 20 (2nd Gen) function api(us-central1)... 
[debug] [2025-08-12T17:37:17.511Z] Checked if tokens are valid: true, expires at: 1755023367185
[debug] [2025-08-12T17:37:17.511Z] Checked if tokens are valid: true, expires at: 1755023367185
[debug] [2025-08-12T17:37:17.512Z] >>> [apiv2][query] PATCH https://cloudfunctions.googleapis.com/v2/projects/snapsolveai-b74fc/locations/us-central1/functions/api updateMask=name%2CbuildConfig.runtime%2CbuildConfig.entryPoint%2CbuildConfig.source.storageSource.bucket%2CbuildConfig.source.storageSource.object%2CbuildConfig.environmentVariables%2CbuildConfig.sourceToken%2CserviceConfig.environmentVariables%2CserviceConfig.ingressSettings%2CserviceConfig.timeoutSeconds%2CserviceConfig.serviceAccountEmail%2CserviceConfig.availableMemory%2CserviceConfig.minInstanceCount%2CserviceConfig.maxInstanceCount%2CserviceConfig.maxInstanceRequestConcurrency%2CserviceConfig.availableCpu%2CserviceConfig.vpcConnector%2CserviceConfig.vpcConnectorEgressSettings%2Clabels
[debug] [2025-08-12T17:37:17.512Z] >>> [apiv2][body] PATCH https://cloudfunctions.googleapis.com/v2/projects/snapsolveai-b74fc/locations/us-central1/functions/api {"name":"projects/snapsolveai-b74fc/locations/us-central1/functions/api","buildConfig":{"runtime":"nodejs20","entryPoint":"api","source":{"storageSource":{"bucket":"gcf-v2-uploads-983351827742.us-central1.cloudfunctions.appspot.com","object":"c3edc601-d2fd-402d-b38d-12bd1953d13e.zip"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""}},"serviceConfig":{"environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"snapsolveai-b74fc\",\"storageBucket\":\"snapsolveai-b74fc.firebasestorage.app\"}","GCLOUD_PROJECT":"snapsolveai-b74fc","EVENTARC_CLOUD_EVENT_SOURCE":"projects/snapsolveai-b74fc/locations/us-central1/services/api","FUNCTION_TARGET":"api","LOG_EXECUTION_ID":"true"},"ingressSettings":null,"timeoutSeconds":null,"serviceAccountEmail":null,"availableMemory":"256Mi","minInstanceCount":null,"maxInstanceCount":null,"maxInstanceRequestConcurrency":80,"availableCpu":"1","vpcConnector":null,"vpcConnectorEgressSettings":null},"labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"9a9a9771ea4054eb51576e98b9243af46c889df3"}}
[debug] [2025-08-12T17:37:18.600Z] <<< [apiv2][status] PATCH https://cloudfunctions.googleapis.com/v2/projects/snapsolveai-b74fc/locations/us-central1/functions/api 200
[debug] [2025-08-12T17:37:18.600Z] <<< [apiv2][body] PATCH https://cloudfunctions.googleapis.com/v2/projects/snapsolveai-b74fc/locations/us-central1/functions/api {"name":"projects/snapsolveai-b74fc/locations/us-central1/operations/operation-1755020237794-63c2e7dd8ee3e-fe357593-16b4d0e9","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-08-12T17:37:18.639176867Z","target":"projects/snapsolveai-b74fc/locations/us-central1/functions/api","verb":"update","cancelRequested":false,"apiVersion":"v2"},"done":false}
[debug] [2025-08-12T17:37:18.600Z] Checked if tokens are valid: true, expires at: 1755023367185
[debug] [2025-08-12T17:37:18.600Z] Checked if tokens are valid: true, expires at: 1755023367185
[debug] [2025-08-12T17:37:18.600Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/snapsolveai-b74fc/locations/us-central1/operations/operation-1755020237794-63c2e7dd8ee3e-fe357593-16b4d0e9 [none]
[debug] [2025-08-12T17:37:18.832Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/snapsolveai-b74fc/locations/us-central1/operations/operation-1755020237794-63c2e7dd8ee3e-fe357593-16b4d0e9 200
[debug] [2025-08-12T17:37:18.832Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/snapsolveai-b74fc/locations/us-central1/operations/operation-1755020237794-63c2e7dd8ee3e-fe357593-16b4d0e9 {"name":"projects/snapsolveai-b74fc/locations/us-central1/operations/operation-1755020237794-63c2e7dd8ee3e-fe357593-16b4d0e9","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-08-12T17:37:18.639176867Z","target":"projects/snapsolveai-b74fc/locations/us-central1/functions/api","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/snapsolveai-b74fc/locations/us-central1/functions/api","buildConfig":{"runtime":"nodejs20","entryPoint":"api","source":{"storageSource":{"bucket":"gcf-v2-sources-983351827742-us-central1","object":"api/function-source.zip","generation":"1755020238587714"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/snapsolveai-b74fc/locations/us-central1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-983351827742-us-central1","object":"api/function-source.zip","generation":"1755020000884724"}},"dockerRegistry":"ARTIFACT_REGISTRY","serviceAccount":"projects/snapsolveai-b74fc/serviceAccounts/983351827742-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/snapsolveai-b74fc/locations/us-central1/services/api","timeoutSeconds":60,"environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"snapsolveai-b74fc\",\"storageBucket\":\"snapsolveai-b74fc.firebasestorage.app\"}","GCLOUD_PROJECT":"snapsolveai-b74fc","EVENTARC_CLOUD_EVENT_SOURCE":"projects/snapsolveai-b74fc/locations/us-central1/services/api","FUNCTION_TARGET":"api","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","serviceAccountEmail":"983351827742-compute@developer.gserviceaccount.com","availableMemory":"256Mi","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"FAILED","labels":{"firebase-functions-hash":"9a9a9771ea4054eb51576e98b9243af46c889df3"},"stateMessages":[{"severity":"ERROR","type":"CloudRunServiceNotFound","message":"Cloud Run service projects/snapsolveai-b74fc/locations/us-central1/services/api for the function was not found. The function will not work correctly. Please redeploy."}],"environment":"GEN_2","url":"https://us-central1-snapsolveai-b74fc.cloudfunctions.net/api","satisfiesPzi":true},"stages":[{"name":"BUILD","state":"NOT_STARTED"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"UPDATE_FUNCTION"},"done":false}
[debug] [2025-08-12T17:37:19.334Z] [update-default-us-central1-api] Retrying task index 0
[debug] [2025-08-12T17:37:19.334Z] Checked if tokens are valid: true, expires at: 1755023367185
[debug] [2025-08-12T17:37:19.334Z] Checked if tokens are valid: true, expires at: 1755023367185
[debug] [2025-08-12T17:37:19.334Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/snapsolveai-b74fc/locations/us-central1/operations/operation-1755020237794-63c2e7dd8ee3e-fe357593-16b4d0e9 [none]
[debug] [2025-08-12T17:37:19.558Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/snapsolveai-b74fc/locations/us-central1/operations/operation-1755020237794-63c2e7dd8ee3e-fe357593-16b4d0e9 200
[debug] [2025-08-12T17:37:19.558Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/snapsolveai-b74fc/locations/us-central1/operations/operation-1755020237794-63c2e7dd8ee3e-fe357593-16b4d0e9 {"name":"projects/snapsolveai-b74fc/locations/us-central1/operations/operation-1755020237794-63c2e7dd8ee3e-fe357593-16b4d0e9","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-08-12T17:37:18.639176867Z","target":"projects/snapsolveai-b74fc/locations/us-central1/functions/api","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/snapsolveai-b74fc/locations/us-central1/functions/api","buildConfig":{"runtime":"nodejs20","entryPoint":"api","source":{"storageSource":{"bucket":"gcf-v2-sources-983351827742-us-central1","object":"api/function-source.zip","generation":"1755020238587714"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/snapsolveai-b74fc/locations/us-central1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-983351827742-us-central1","object":"api/function-source.zip","generation":"1755020000884724"}},"dockerRegistry":"ARTIFACT_REGISTRY","serviceAccount":"projects/snapsolveai-b74fc/serviceAccounts/983351827742-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/snapsolveai-b74fc/locations/us-central1/services/api","timeoutSeconds":60,"environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"snapsolveai-b74fc\",\"storageBucket\":\"snapsolveai-b74fc.firebasestorage.app\"}","GCLOUD_PROJECT":"snapsolveai-b74fc","EVENTARC_CLOUD_EVENT_SOURCE":"projects/snapsolveai-b74fc/locations/us-central1/services/api","FUNCTION_TARGET":"api","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","serviceAccountEmail":"983351827742-compute@developer.gserviceaccount.com","availableMemory":"256Mi","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"FAILED","labels":{"firebase-functions-hash":"9a9a9771ea4054eb51576e98b9243af46c889df3"},"stateMessages":[{"severity":"ERROR","type":"CloudRunServiceNotFound","message":"Cloud Run service projects/snapsolveai-b74fc/locations/us-central1/services/api for the function was not found. The function will not work correctly. Please redeploy."}],"environment":"GEN_2","url":"https://us-central1-snapsolveai-b74fc.cloudfunctions.net/api","satisfiesPzi":true},"stages":[{"name":"BUILD","state":"NOT_STARTED"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"UPDATE_FUNCTION"},"done":false}
[debug] [2025-08-12T17:37:20.559Z] [update-default-us-central1-api] Retrying task index 0
[debug] [2025-08-12T17:37:20.560Z] Checked if tokens are valid: true, expires at: 1755023367185
[debug] [2025-08-12T17:37:20.560Z] Checked if tokens are valid: true, expires at: 1755023367185
[debug] [2025-08-12T17:37:20.560Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/snapsolveai-b74fc/locations/us-central1/operations/operation-1755020237794-63c2e7dd8ee3e-fe357593-16b4d0e9 [none]
[debug] [2025-08-12T17:37:20.667Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/snapsolveai-b74fc/locations/us-central1/operations/operation-1755020237794-63c2e7dd8ee3e-fe357593-16b4d0e9 200
[debug] [2025-08-12T17:37:20.667Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/snapsolveai-b74fc/locations/us-central1/operations/operation-1755020237794-63c2e7dd8ee3e-fe357593-16b4d0e9 {"name":"projects/snapsolveai-b74fc/locations/us-central1/operations/operation-1755020237794-63c2e7dd8ee3e-fe357593-16b4d0e9","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-08-12T17:37:18.639176867Z","target":"projects/snapsolveai-b74fc/locations/us-central1/functions/api","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/snapsolveai-b74fc/locations/us-central1/functions/api","buildConfig":{"runtime":"nodejs20","entryPoint":"api","source":{"storageSource":{"bucket":"gcf-v2-sources-983351827742-us-central1","object":"api/function-source.zip","generation":"1755020238587714"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/snapsolveai-b74fc/locations/us-central1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-983351827742-us-central1","object":"api/function-source.zip","generation":"1755020000884724"}},"dockerRegistry":"ARTIFACT_REGISTRY","serviceAccount":"projects/snapsolveai-b74fc/serviceAccounts/983351827742-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/snapsolveai-b74fc/locations/us-central1/services/api","timeoutSeconds":60,"environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"snapsolveai-b74fc\",\"storageBucket\":\"snapsolveai-b74fc.firebasestorage.app\"}","GCLOUD_PROJECT":"snapsolveai-b74fc","EVENTARC_CLOUD_EVENT_SOURCE":"projects/snapsolveai-b74fc/locations/us-central1/services/api","FUNCTION_TARGET":"api","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","serviceAccountEmail":"983351827742-compute@developer.gserviceaccount.com","availableMemory":"256Mi","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"FAILED","labels":{"firebase-functions-hash":"9a9a9771ea4054eb51576e98b9243af46c889df3"},"stateMessages":[{"severity":"ERROR","type":"CloudRunServiceNotFound","message":"Cloud Run service projects/snapsolveai-b74fc/locations/us-central1/services/api for the function was not found. The function will not work correctly. Please redeploy."}],"environment":"GEN_2","url":"https://us-central1-snapsolveai-b74fc.cloudfunctions.net/api","satisfiesPzi":true},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/983351827742/locations/us-central1/builds/63a770bd-abb5-4f86-be4f-6b58bd19b8e6","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/63a770bd-abb5-4f86-be4f-6b58bd19b8e6?project=983351827742"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"UPDATE_FUNCTION","buildName":"projects/983351827742/locations/us-central1/builds/63a770bd-abb5-4f86-be4f-6b58bd19b8e6"},"done":false}
[debug] [2025-08-12T17:37:22.668Z] [update-default-us-central1-api] Retrying task index 0
[debug] [2025-08-12T17:37:22.668Z] Checked if tokens are valid: true, expires at: 1755023367185
[debug] [2025-08-12T17:37:22.668Z] Checked if tokens are valid: true, expires at: 1755023367185
[debug] [2025-08-12T17:37:22.668Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/snapsolveai-b74fc/locations/us-central1/operations/operation-1755020237794-63c2e7dd8ee3e-fe357593-16b4d0e9 [none]
[debug] [2025-08-12T17:37:22.861Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/snapsolveai-b74fc/locations/us-central1/operations/operation-1755020237794-63c2e7dd8ee3e-fe357593-16b4d0e9 200
[debug] [2025-08-12T17:37:22.861Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/snapsolveai-b74fc/locations/us-central1/operations/operation-1755020237794-63c2e7dd8ee3e-fe357593-16b4d0e9 {"name":"projects/snapsolveai-b74fc/locations/us-central1/operations/operation-1755020237794-63c2e7dd8ee3e-fe357593-16b4d0e9","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-08-12T17:37:18.639176867Z","target":"projects/snapsolveai-b74fc/locations/us-central1/functions/api","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/snapsolveai-b74fc/locations/us-central1/functions/api","buildConfig":{"runtime":"nodejs20","entryPoint":"api","source":{"storageSource":{"bucket":"gcf-v2-sources-983351827742-us-central1","object":"api/function-source.zip","generation":"1755020238587714"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/snapsolveai-b74fc/locations/us-central1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-983351827742-us-central1","object":"api/function-source.zip","generation":"1755020000884724"}},"dockerRegistry":"ARTIFACT_REGISTRY","serviceAccount":"projects/snapsolveai-b74fc/serviceAccounts/983351827742-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/snapsolveai-b74fc/locations/us-central1/services/api","timeoutSeconds":60,"environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"snapsolveai-b74fc\",\"storageBucket\":\"snapsolveai-b74fc.firebasestorage.app\"}","GCLOUD_PROJECT":"snapsolveai-b74fc","EVENTARC_CLOUD_EVENT_SOURCE":"projects/snapsolveai-b74fc/locations/us-central1/services/api","FUNCTION_TARGET":"api","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","serviceAccountEmail":"983351827742-compute@developer.gserviceaccount.com","availableMemory":"256Mi","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"FAILED","labels":{"firebase-functions-hash":"9a9a9771ea4054eb51576e98b9243af46c889df3"},"stateMessages":[{"severity":"ERROR","type":"CloudRunServiceNotFound","message":"Cloud Run service projects/snapsolveai-b74fc/locations/us-central1/services/api for the function was not found. The function will not work correctly. Please redeploy."}],"environment":"GEN_2","url":"https://us-central1-snapsolveai-b74fc.cloudfunctions.net/api","satisfiesPzi":true},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/983351827742/locations/us-central1/builds/63a770bd-abb5-4f86-be4f-6b58bd19b8e6","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/63a770bd-abb5-4f86-be4f-6b58bd19b8e6?project=983351827742"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"UPDATE_FUNCTION","buildName":"projects/983351827742/locations/us-central1/builds/63a770bd-abb5-4f86-be4f-6b58bd19b8e6"},"done":false}
[debug] [2025-08-12T17:37:26.864Z] [update-default-us-central1-api] Retrying task index 0
[debug] [2025-08-12T17:37:26.864Z] Checked if tokens are valid: true, expires at: 1755023367185
[debug] [2025-08-12T17:37:26.864Z] Checked if tokens are valid: true, expires at: 1755023367185
[debug] [2025-08-12T17:37:26.864Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/snapsolveai-b74fc/locations/us-central1/operations/operation-1755020237794-63c2e7dd8ee3e-fe357593-16b4d0e9 [none]
[debug] [2025-08-12T17:37:26.965Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/snapsolveai-b74fc/locations/us-central1/operations/operation-1755020237794-63c2e7dd8ee3e-fe357593-16b4d0e9 200
[debug] [2025-08-12T17:37:26.966Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/snapsolveai-b74fc/locations/us-central1/operations/operation-1755020237794-63c2e7dd8ee3e-fe357593-16b4d0e9 {"name":"projects/snapsolveai-b74fc/locations/us-central1/operations/operation-1755020237794-63c2e7dd8ee3e-fe357593-16b4d0e9","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-08-12T17:37:18.639176867Z","target":"projects/snapsolveai-b74fc/locations/us-central1/functions/api","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/snapsolveai-b74fc/locations/us-central1/functions/api","buildConfig":{"runtime":"nodejs20","entryPoint":"api","source":{"storageSource":{"bucket":"gcf-v2-sources-983351827742-us-central1","object":"api/function-source.zip","generation":"1755020238587714"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/snapsolveai-b74fc/locations/us-central1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-983351827742-us-central1","object":"api/function-source.zip","generation":"1755020000884724"}},"dockerRegistry":"ARTIFACT_REGISTRY","serviceAccount":"projects/snapsolveai-b74fc/serviceAccounts/983351827742-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/snapsolveai-b74fc/locations/us-central1/services/api","timeoutSeconds":60,"environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"snapsolveai-b74fc\",\"storageBucket\":\"snapsolveai-b74fc.firebasestorage.app\"}","GCLOUD_PROJECT":"snapsolveai-b74fc","EVENTARC_CLOUD_EVENT_SOURCE":"projects/snapsolveai-b74fc/locations/us-central1/services/api","FUNCTION_TARGET":"api","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","serviceAccountEmail":"983351827742-compute@developer.gserviceaccount.com","availableMemory":"256Mi","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"FAILED","labels":{"firebase-functions-hash":"9a9a9771ea4054eb51576e98b9243af46c889df3"},"stateMessages":[{"severity":"ERROR","type":"CloudRunServiceNotFound","message":"Cloud Run service projects/snapsolveai-b74fc/locations/us-central1/services/api for the function was not found. The function will not work correctly. Please redeploy."}],"environment":"GEN_2","url":"https://us-central1-snapsolveai-b74fc.cloudfunctions.net/api","satisfiesPzi":true},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/983351827742/locations/us-central1/builds/63a770bd-abb5-4f86-be4f-6b58bd19b8e6","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/63a770bd-abb5-4f86-be4f-6b58bd19b8e6?project=983351827742"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"UPDATE_FUNCTION","buildName":"projects/983351827742/locations/us-central1/builds/63a770bd-abb5-4f86-be4f-6b58bd19b8e6"},"done":false}
[debug] [2025-08-12T17:37:34.967Z] [update-default-us-central1-api] Retrying task index 0
[debug] [2025-08-12T17:37:34.967Z] Checked if tokens are valid: true, expires at: 1755023367185
[debug] [2025-08-12T17:37:34.968Z] Checked if tokens are valid: true, expires at: 1755023367185
[debug] [2025-08-12T17:37:34.968Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/snapsolveai-b74fc/locations/us-central1/operations/operation-1755020237794-63c2e7dd8ee3e-fe357593-16b4d0e9 [none]
[debug] [2025-08-12T17:37:35.217Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/snapsolveai-b74fc/locations/us-central1/operations/operation-1755020237794-63c2e7dd8ee3e-fe357593-16b4d0e9 200
[debug] [2025-08-12T17:37:35.217Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/snapsolveai-b74fc/locations/us-central1/operations/operation-1755020237794-63c2e7dd8ee3e-fe357593-16b4d0e9 {"name":"projects/snapsolveai-b74fc/locations/us-central1/operations/operation-1755020237794-63c2e7dd8ee3e-fe357593-16b4d0e9","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-08-12T17:37:18.639176867Z","target":"projects/snapsolveai-b74fc/locations/us-central1/functions/api","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/snapsolveai-b74fc/locations/us-central1/functions/api","buildConfig":{"runtime":"nodejs20","entryPoint":"api","source":{"storageSource":{"bucket":"gcf-v2-sources-983351827742-us-central1","object":"api/function-source.zip","generation":"1755020238587714"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/snapsolveai-b74fc/locations/us-central1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-983351827742-us-central1","object":"api/function-source.zip","generation":"1755020000884724"}},"dockerRegistry":"ARTIFACT_REGISTRY","serviceAccount":"projects/snapsolveai-b74fc/serviceAccounts/983351827742-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/snapsolveai-b74fc/locations/us-central1/services/api","timeoutSeconds":60,"environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"snapsolveai-b74fc\",\"storageBucket\":\"snapsolveai-b74fc.firebasestorage.app\"}","GCLOUD_PROJECT":"snapsolveai-b74fc","EVENTARC_CLOUD_EVENT_SOURCE":"projects/snapsolveai-b74fc/locations/us-central1/services/api","FUNCTION_TARGET":"api","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","serviceAccountEmail":"983351827742-compute@developer.gserviceaccount.com","availableMemory":"256Mi","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"FAILED","labels":{"firebase-functions-hash":"9a9a9771ea4054eb51576e98b9243af46c889df3"},"stateMessages":[{"severity":"ERROR","type":"CloudRunServiceNotFound","message":"Cloud Run service projects/snapsolveai-b74fc/locations/us-central1/services/api for the function was not found. The function will not work correctly. Please redeploy."}],"environment":"GEN_2","url":"https://us-central1-snapsolveai-b74fc.cloudfunctions.net/api","satisfiesPzi":true},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/983351827742/locations/us-central1/builds/63a770bd-abb5-4f86-be4f-6b58bd19b8e6","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/63a770bd-abb5-4f86-be4f-6b58bd19b8e6?project=983351827742"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"UPDATE_FUNCTION","buildName":"projects/983351827742/locations/us-central1/builds/63a770bd-abb5-4f86-be4f-6b58bd19b8e6"},"done":false}
[debug] [2025-08-12T17:37:45.217Z] [update-default-us-central1-api] Retrying task index 0
[debug] [2025-08-12T17:37:45.218Z] Checked if tokens are valid: true, expires at: 1755023367185
[debug] [2025-08-12T17:37:45.218Z] Checked if tokens are valid: true, expires at: 1755023367185
[debug] [2025-08-12T17:37:45.218Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/snapsolveai-b74fc/locations/us-central1/operations/operation-1755020237794-63c2e7dd8ee3e-fe357593-16b4d0e9 [none]
[debug] [2025-08-12T17:37:45.513Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/snapsolveai-b74fc/locations/us-central1/operations/operation-1755020237794-63c2e7dd8ee3e-fe357593-16b4d0e9 200
[debug] [2025-08-12T17:37:45.513Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/snapsolveai-b74fc/locations/us-central1/operations/operation-1755020237794-63c2e7dd8ee3e-fe357593-16b4d0e9 {"name":"projects/snapsolveai-b74fc/locations/us-central1/operations/operation-1755020237794-63c2e7dd8ee3e-fe357593-16b4d0e9","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-08-12T17:37:18.639176867Z","target":"projects/snapsolveai-b74fc/locations/us-central1/functions/api","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/snapsolveai-b74fc/locations/us-central1/functions/api","buildConfig":{"runtime":"nodejs20","entryPoint":"api","source":{"storageSource":{"bucket":"gcf-v2-sources-983351827742-us-central1","object":"api/function-source.zip","generation":"1755020238587714"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/snapsolveai-b74fc/locations/us-central1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-983351827742-us-central1","object":"api/function-source.zip","generation":"1755020000884724"}},"dockerRegistry":"ARTIFACT_REGISTRY","serviceAccount":"projects/snapsolveai-b74fc/serviceAccounts/983351827742-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/snapsolveai-b74fc/locations/us-central1/services/api","timeoutSeconds":60,"environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"snapsolveai-b74fc\",\"storageBucket\":\"snapsolveai-b74fc.firebasestorage.app\"}","GCLOUD_PROJECT":"snapsolveai-b74fc","EVENTARC_CLOUD_EVENT_SOURCE":"projects/snapsolveai-b74fc/locations/us-central1/services/api","FUNCTION_TARGET":"api","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","serviceAccountEmail":"983351827742-compute@developer.gserviceaccount.com","availableMemory":"256Mi","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"FAILED","labels":{"firebase-functions-hash":"9a9a9771ea4054eb51576e98b9243af46c889df3"},"stateMessages":[{"severity":"ERROR","type":"CloudRunServiceNotFound","message":"Cloud Run service projects/snapsolveai-b74fc/locations/us-central1/services/api for the function was not found. The function will not work correctly. Please redeploy."}],"environment":"GEN_2","url":"https://us-central1-snapsolveai-b74fc.cloudfunctions.net/api","satisfiesPzi":true},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/983351827742/locations/us-central1/builds/63a770bd-abb5-4f86-be4f-6b58bd19b8e6","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/63a770bd-abb5-4f86-be4f-6b58bd19b8e6?project=983351827742"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"UPDATE_FUNCTION","buildName":"projects/983351827742/locations/us-central1/builds/63a770bd-abb5-4f86-be4f-6b58bd19b8e6"},"done":false}
[debug] [2025-08-12T17:37:55.513Z] [update-default-us-central1-api] Retrying task index 0
[debug] [2025-08-12T17:37:55.514Z] Checked if tokens are valid: true, expires at: 1755023367185
[debug] [2025-08-12T17:37:55.514Z] Checked if tokens are valid: true, expires at: 1755023367185
[debug] [2025-08-12T17:37:55.514Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/snapsolveai-b74fc/locations/us-central1/operations/operation-1755020237794-63c2e7dd8ee3e-fe357593-16b4d0e9 [none]
[debug] [2025-08-12T17:37:55.665Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/snapsolveai-b74fc/locations/us-central1/operations/operation-1755020237794-63c2e7dd8ee3e-fe357593-16b4d0e9 200
[debug] [2025-08-12T17:37:55.665Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/snapsolveai-b74fc/locations/us-central1/operations/operation-1755020237794-63c2e7dd8ee3e-fe357593-16b4d0e9 {"name":"projects/snapsolveai-b74fc/locations/us-central1/operations/operation-1755020237794-63c2e7dd8ee3e-fe357593-16b4d0e9","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-08-12T17:37:18.639176867Z","endTime":"2025-08-12T17:37:55.355026870Z","target":"projects/snapsolveai-b74fc/locations/us-central1/functions/api","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/snapsolveai-b74fc/locations/us-central1/functions/api","buildConfig":{"runtime":"nodejs20","entryPoint":"api","source":{"storageSource":{"bucket":"gcf-v2-sources-983351827742-us-central1","object":"api/function-source.zip","generation":"1755020238587714"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/snapsolveai-b74fc/locations/us-central1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-983351827742-us-central1","object":"api/function-source.zip","generation":"1755020000884724"}},"dockerRegistry":"ARTIFACT_REGISTRY","serviceAccount":"projects/snapsolveai-b74fc/serviceAccounts/983351827742-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/snapsolveai-b74fc/locations/us-central1/services/api","timeoutSeconds":60,"environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"snapsolveai-b74fc\",\"storageBucket\":\"snapsolveai-b74fc.firebasestorage.app\"}","GCLOUD_PROJECT":"snapsolveai-b74fc","EVENTARC_CLOUD_EVENT_SOURCE":"projects/snapsolveai-b74fc/locations/us-central1/services/api","FUNCTION_TARGET":"api","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","serviceAccountEmail":"983351827742-compute@developer.gserviceaccount.com","availableMemory":"256Mi","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"FAILED","labels":{"firebase-functions-hash":"9a9a9771ea4054eb51576e98b9243af46c889df3"},"stateMessages":[{"severity":"ERROR","type":"CloudRunServiceNotFound","message":"Cloud Run service projects/snapsolveai-b74fc/locations/us-central1/services/api for the function was not found. The function will not work correctly. Please redeploy."}],"environment":"GEN_2","url":"https://us-central1-snapsolveai-b74fc.cloudfunctions.net/api","satisfiesPzi":true},"stages":[{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"UPDATE_FUNCTION"},"done":true,"error":{"code":3,"message":"Build failed with status: FAILURE and message: npm error code EUSAGE\nnpm error\nnpm error `npm ci` can only install packages when your package.json and package-lock.json or npm-shrinkwrap.json are in sync. Please update your lock file with `npm install` before continuing.\nnpm error\nnpm error Missing: dotenv@16.6.1 from lock file\nnpm error Invalid: lock file's firebase-functions@6.4.0 does not satisfy firebase-functions@5.1.1\nnpm error Missing: grok-js@3.3.1 from lock file\nnpm error Missing: @types/express@4.17.3 from lock file\nnpm error Missing: async@3.2.6 from lock file\nnpm error Missing: collections@5.1.9 from lock file\nnpm error Missing: debug@4.4.1 from lock file\nnpm error Missing: oniguruma@7.2.3 from lock file\nnpm error Missing: universalify@0.2.0 from lock file\nnpm error Missing: weak-map@1.0.8 from lock file\nnpm error Missing: nan@2.23.0 from lock file\nnpm error Missing: ms@2.1.3 from lock file\nnpm error\nnpm error Clean install a project\nnpm error\nnpm error Usage:\nnpm error npm ci\nnpm error\nnpm error Options:\nnpm error [--install-strategy <hoisted|nested|shallow|linked>] [--legacy-bundling]\nnpm error [--global-style] [--omit <dev|optional|peer> [--omit <dev|optional|peer> ...]]\nnpm error [--include <prod|dev|optional|peer> [--include <prod|dev|optional|peer> ...]]\nnpm error [--strict-peer-deps] [--foreground-scripts] [--ignore-scripts] [--no-audit]\nnpm error [--no-bin-links] [--no-fund] [--dry-run]\nnpm error [-w|--workspace <workspace-name> [-w|--workspace <workspace-name> ...]]\nnpm error [-ws|--workspaces] [--include-workspace-root] [--install-links]\nnpm error\nnpm error aliases: clean-install, ic, install-clean, isntall-clean\nnpm error\nnpm error Run \"npm help ci\" for more info\nnpm error A complete log of this run can be found in: /www-data-home/.npm/_logs/2025-08-12T17_37_39_971Z-debug-0.log. For more details see the logs at https://console.cloud.google.com/cloud-build/builds;region=us-central1/63a770bd-abb5-4f86-be4f-6b58bd19b8e6?project=983351827742."}}
[debug] [2025-08-12T17:37:55.665Z] Got source token undefined for region us-central1
[error] Build failed with status: FAILURE and message: npm error code EUSAGE
npm error
npm error `npm ci` can only install packages when your package.json and package-lock.json or npm-shrinkwrap.json are in sync. Please update your lock file with `npm install` before continuing.
npm error
npm error Missing: dotenv@16.6.1 from lock file
npm error Invalid: lock file's firebase-functions@6.4.0 does not satisfy firebase-functions@5.1.1
npm error Missing: grok-js@3.3.1 from lock file
npm error Missing: @types/express@4.17.3 from lock file
npm error Missing: async@3.2.6 from lock file
npm error Missing: collections@5.1.9 from lock file
npm error Missing: debug@4.4.1 from lock file
npm error Missing: oniguruma@7.2.3 from lock file
npm error Missing: universalify@0.2.0 from lock file
npm error Missing: weak-map@1.0.8 from lock file
npm error Missing: nan@2.23.0 from lock file
npm error Missing: ms@2.1.3 from lock file
npm error
npm error Clean install a project
npm error
npm error Usage:
npm error npm ci
npm error
npm error Options:
npm error [--install-strategy <hoisted|nested|shallow|linked>] [--legacy-bundling]
npm error [--global-style] [--omit <dev|optional|peer> [--omit <dev|optional|peer> ...]]
npm error [--include <prod|dev|optional|peer> [--include <prod|dev|optional|peer> ...]]
npm error [--strict-peer-deps] [--foreground-scripts] [--ignore-scripts] [--no-audit]
npm error [--no-bin-links] [--no-fund] [--dry-run]
npm error [-w|--workspace <workspace-name> [-w|--workspace <workspace-name> ...]]
npm error [-ws|--workspaces] [--include-workspace-root] [--install-links]
npm error
npm error aliases: clean-install, ic, install-clean, isntall-clean
npm error
npm error Run "npm help ci" for more info
npm error A complete log of this run can be found in: /www-data-home/.npm/_logs/2025-08-12T17_37_39_971Z-debug-0.log. For more details see the logs at https://console.cloud.google.com/cloud-build/builds;region=us-central1/63a770bd-abb5-4f86-be4f-6b58bd19b8e6?project=983351827742.
[debug] [2025-08-12T17:37:55.669Z] Total Function Deployment time: 38161
[debug] [2025-08-12T17:37:55.669Z] 1 Functions Deployed
[debug] [2025-08-12T17:37:55.669Z] 1 Functions Errored
[debug] [2025-08-12T17:37:55.669Z] 0 Function Deployments Aborted
[debug] [2025-08-12T17:37:55.669Z] Average Function Deployment time: 38160
[info] 
[info] Functions deploy had errors with the following functions:
	api(us-central1)
[debug] [2025-08-12T17:37:55.708Z] Not printing URL for HTTPS function. Typically this means it didn't match a filter or we failed deployment
[debug] [2025-08-12T17:37:55.710Z] Checked if tokens are valid: true, expires at: 1755023367185
[debug] [2025-08-12T17:37:55.710Z] Checked if tokens are valid: true, expires at: 1755023367185
[debug] [2025-08-12T17:37:55.710Z] >>> [apiv2][query] GET https://artifactregistry.googleapis.com/v1/projects/snapsolveai-b74fc/locations/us-central1/repositories/gcf-artifacts [none]
[debug] [2025-08-12T17:37:55.981Z] <<< [apiv2][status] GET https://artifactregistry.googleapis.com/v1/projects/snapsolveai-b74fc/locations/us-central1/repositories/gcf-artifacts 200
[debug] [2025-08-12T17:37:55.982Z] <<< [apiv2][body] GET https://artifactregistry.googleapis.com/v1/projects/snapsolveai-b74fc/locations/us-central1/repositories/gcf-artifacts {"name":"projects/snapsolveai-b74fc/locations/us-central1/repositories/gcf-artifacts","format":"DOCKER","description":"This repository is created and used by Cloud Functions for storing function docker images.","labels":{"goog-managed-by":"cloudfunctions"},"createTime":"2025-08-12T17:33:30.447040Z","updateTime":"2025-08-12T17:34:26.615220Z","mode":"STANDARD_REPOSITORY","cleanupPolicies":{"firebase-functions-cleanup":{"id":"firebase-functions-cleanup","action":"DELETE","condition":{"tagState":"ANY","olderThan":"86400s"}}},"vulnerabilityScanningConfig":{"lastEnableTime":"2025-08-12T17:33:21.429648837Z","enablementState":"SCANNING_DISABLED","enablementStateReason":"API containerscanning.googleapis.com is not enabled."},"satisfiesPzi":true,"registryUri":"us-central1-docker.pkg.dev/snapsolveai-b74fc/gcf-artifacts"}
[debug] [2025-08-12T17:37:55.982Z] Functions deploy failed.
[debug] [2025-08-12T17:37:55.982Z] {
  "endpoint": {
    "id": "api",
    "project": "snapsolveai-b74fc",
    "region": "us-central1",
    "entryPoint": "api",
    "platform": "gcfv2",
    "runtime": "nodejs20",
    "httpsTrigger": {},
    "labels": {
      "deployment-tool": "cli-firebase"
    },
    "serviceAccount": null,
    "ingressSettings": null,
    "availableMemoryMb": null,
    "timeoutSeconds": null,
    "maxInstances": null,
    "minInstances": null,
    "concurrency": 80,
    "vpc": null,
    "environmentVariables": {
      "FIREBASE_CONFIG": "{\"projectId\":\"snapsolveai-b74fc\",\"storageBucket\":\"snapsolveai-b74fc.firebasestorage.app\"}",
      "GCLOUD_PROJECT": "snapsolveai-b74fc",
      "EVENTARC_CLOUD_EVENT_SOURCE": "projects/snapsolveai-b74fc/locations/us-central1/services/api"
    },
    "codebase": "default",
    "securityLevel": "SECURE_ALWAYS",
    "cpu": 1,
    "targetedByOnly": false,
    "hash": "9a9a9771ea4054eb51576e98b9243af46c889df3"
  },
  "op": "update",
  "original": {
    "name": "FirebaseError",
    "children": [],
    "exit": 1,
    "message": "Build failed with status: FAILURE and message: npm error code EUSAGE\nnpm error\nnpm error `npm ci` can only install packages when your package.json and package-lock.json or npm-shrinkwrap.json are in sync. Please update your lock file with `npm install` before continuing.\nnpm error\nnpm error Missing: dotenv@16.6.1 from lock file\nnpm error Invalid: lock file's firebase-functions@6.4.0 does not satisfy firebase-functions@5.1.1\nnpm error Missing: grok-js@3.3.1 from lock file\nnpm error Missing: @types/express@4.17.3 from lock file\nnpm error Missing: async@3.2.6 from lock file\nnpm error Missing: collections@5.1.9 from lock file\nnpm error Missing: debug@4.4.1 from lock file\nnpm error Missing: oniguruma@7.2.3 from lock file\nnpm error Missing: universalify@0.2.0 from lock file\nnpm error Missing: weak-map@1.0.8 from lock file\nnpm error Missing: nan@2.23.0 from lock file\nnpm error Missing: ms@2.1.3 from lock file\nnpm error\nnpm error Clean install a project\nnpm error\nnpm error Usage:\nnpm error npm ci\nnpm error\nnpm error Options:\nnpm error [--install-strategy <hoisted|nested|shallow|linked>] [--legacy-bundling]\nnpm error [--global-style] [--omit <dev|optional|peer> [--omit <dev|optional|peer> ...]]\nnpm error [--include <prod|dev|optional|peer> [--include <prod|dev|optional|peer> ...]]\nnpm error [--strict-peer-deps] [--foreground-scripts] [--ignore-scripts] [--no-audit]\nnpm error [--no-bin-links] [--no-fund] [--dry-run]\nnpm error [-w|--workspace <workspace-name> [-w|--workspace <workspace-name> ...]]\nnpm error [-ws|--workspaces] [--include-workspace-root] [--install-links]\nnpm error\nnpm error aliases: clean-install, ic, install-clean, isntall-clean\nnpm error\nnpm error Run \"npm help ci\" for more info\nnpm error A complete log of this run can be found in: /www-data-home/.npm/_logs/2025-08-12T17_37_39_971Z-debug-0.log. For more details see the logs at https://console.cloud.google.com/cloud-build/builds;region=us-central1/63a770bd-abb5-4f86-be4f-6b58bd19b8e6?project=983351827742.",
    "original": {
      "code": 3,
      "message": "Build failed with status: FAILURE and message: npm error code EUSAGE\nnpm error\nnpm error `npm ci` can only install packages when your package.json and package-lock.json or npm-shrinkwrap.json are in sync. Please update your lock file with `npm install` before continuing.\nnpm error\nnpm error Missing: dotenv@16.6.1 from lock file\nnpm error Invalid: lock file's firebase-functions@6.4.0 does not satisfy firebase-functions@5.1.1\nnpm error Missing: grok-js@3.3.1 from lock file\nnpm error Missing: @types/express@4.17.3 from lock file\nnpm error Missing: async@3.2.6 from lock file\nnpm error Missing: collections@5.1.9 from lock file\nnpm error Missing: debug@4.4.1 from lock file\nnpm error Missing: oniguruma@7.2.3 from lock file\nnpm error Missing: universalify@0.2.0 from lock file\nnpm error Missing: weak-map@1.0.8 from lock file\nnpm error Missing: nan@2.23.0 from lock file\nnpm error Missing: ms@2.1.3 from lock file\nnpm error\nnpm error Clean install a project\nnpm error\nnpm error Usage:\nnpm error npm ci\nnpm error\nnpm error Options:\nnpm error [--install-strategy <hoisted|nested|shallow|linked>] [--legacy-bundling]\nnpm error [--global-style] [--omit <dev|optional|peer> [--omit <dev|optional|peer> ...]]\nnpm error [--include <prod|dev|optional|peer> [--include <prod|dev|optional|peer> ...]]\nnpm error [--strict-peer-deps] [--foreground-scripts] [--ignore-scripts] [--no-audit]\nnpm error [--no-bin-links] [--no-fund] [--dry-run]\nnpm error [-w|--workspace <workspace-name> [-w|--workspace <workspace-name> ...]]\nnpm error [-ws|--workspaces] [--include-workspace-root] [--install-links]\nnpm error\nnpm error aliases: clean-install, ic, install-clean, isntall-clean\nnpm error\nnpm error Run \"npm help ci\" for more info\nnpm error A complete log of this run can be found in: /www-data-home/.npm/_logs/2025-08-12T17_37_39_971Z-debug-0.log. For more details see the logs at https://console.cloud.google.com/cloud-build/builds;region=us-central1/63a770bd-abb5-4f86-be4f-6b58bd19b8e6?project=983351827742."
    },
    "status": 3,
    "code": 3
  }
}
[debug] [2025-08-12T17:37:55.983Z] Error: Failed to update function api in region us-central1
    at /Users/shreekantanv/.nvm/versions/node/v20.19.0/lib/node_modules/firebase-tools/lib/deploy/functions/release/fabricator.js:399:19
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async Fabricator.updateV2Function (/Users/shreekantanv/.nvm/versions/node/v20.19.0/lib/node_modules/firebase-tools/lib/deploy/functions/release/fabricator.js:388:32)
    at async Fabricator.updateEndpoint (/Users/shreekantanv/.nvm/versions/node/v20.19.0/lib/node_modules/firebase-tools/lib/deploy/functions/release/fabricator.js:155:13)
    at async handle (/Users/shreekantanv/.nvm/versions/node/v20.19.0/lib/node_modules/firebase-tools/lib/deploy/functions/release/fabricator.js:89:17)
[error] 
[error] Error: There was an error deploying functions
